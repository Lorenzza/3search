# Movie Reviews Search System

Система поиска по отзывам к фильмам с поддержкой различных методов поиска.

## Возможности

- Полнотекстовый поиск
- Векторный поиск
- Гибридный поиск
- REST API
- Метрики производительности
- Валидация результатов

## Установка
bash
Клонирование репозитория
git clone https://github.com/your-repo/movie-reviews-search.git
cd movie-reviews-search
Установка зависимостей
pip install -r requirements.txt
Инициализация индексов
python run_init_services.py
Запуск сервисов
python run_all_services.py

**Важно! Для запуска инициализации и всё время работы на машине должен быть запущен Elasticsearch!**

## Структура проекта
├── search_services/ # Основной модуль с сервисами
│ ├── init.py
│ ├── fulltext/ # Полнотекстовый поиск (PostgreSQL)
│ │ ├── init.py
│ │ ├── service.py # Сервис полнотекстового поиска
│ │ └── models.py # Модели данных
│ │
│ ├── vector/ # Векторный поиск (FAISS)
│ │ ├── init.py
│ │ ├── service.py # Сервис векторного поиска
│ │ └── models.py # Модели данных
│
│ ├── router/ # Маршрутизатор запросов
│ │ ├── init.py
│ │ ├── service.py # Основной роутер
│ │ └── models.py # Общие модели
│ │
│ └── validator/ # Валидация результатов
│ ├── init.py
│ └── benchmark.py # Инструменты валидации
│
├── DATA/ # Данные и индексы
│ ├── faiss_index.pkl        # Основной FAISS индекс для векторного поиска
│ └── movie_ids.pkl          # Маппинг индексов к movie_ids
│
├── validation_results/ # Результаты валидации
│ ├── plots_ # Графики
│ └── .csv # Метрики
│
├── requirements.txt # Зависимости проекта
└── README.md 

# Документация
## Описание скриптов
run_init_services.py - выполняет инициализацию данных:
- Создание векторного индекса
- Инициализация Elasticsearch
- Запускается один раз при первом развертывании или обновлении данных
**Важно! Инициализация индексов занимает много времени, поэтому запускать её рекомендуется один раз при первом развертывании или обновлении данных.**

run_all_services.py - запускает поисковые сервисы:
- Проверяет наличие необходимых индексов
- Запускает сервисы поиска
- Используется для ежедневной работы

## Особенности реализации:
- Единая точка входа на порту 8000
- Валидация входных параметров
- Асинхронные запросы к сервисам
- Гибридный поиск с нормализацией скоров
- Дедупликация результатов
- Подробные метрики


## Использование

См. [API документацию](docs/API.md) для подробной информации.

## Лицензия

MIT

